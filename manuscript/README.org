#+TITLE: Analysis from manuscript "Interpretable modeling of genotype-phenotype landscapes with state-of-the-art predictive power"
#+AUTHOR: Peter D. Tonner (NIST)

* Requirements
  This pipeline was run on linux (Ubuntu 18.04.5 LTS). Other systems
  have not been tested and are not supported.

* Setup
  
  To easily manage the dependencies to run this code, it is
  recommended to use [[https://docs.conda.io/en/latest/][conda]] with the provided ~environment.yml~ file:

  #+begin_src bash
    conda env create -f environment.yml
    conda activate lantern
  #+end_src
  
* Analysis
  Everything in the analysis is managed with [[https://snakemake.readthedocs.io/en/stable/index.html][snakemake]], which greatly
  simplifies re-creating the workflow. Below outlines the steps
  required to reproduce the full analysis.
 
** Overview 
    A high-level view of available pipeline components is available
    through:
    #+begin_src bash
      snakemake -l
    #+end_src
  
** Data setup
   Download and pre-process datasets with
   #+begin_src sh
     snakemake data -j1
   #+end_src

   [[file:dags/data.png]]
   
** Interpretable models
   Pre-trained parameters of the large-scale GPL datasets are
   available in the ~experiments~ folder. To generate the figures
   dependent on these models, run:
   #+begin_src sh
     snakemake interpret_figures -j1
   #+end_src
   
** Predictive accuracy
   The analysis of predictive accuracy for different models requires
   ten-fold cross-validation across multiple large-scale datasets. It
   is recommended to only run these analyses if sufficient
   computational resources are available. See the manuscript for
   details of computational environment used during the analysis

   #+begin_src sh
     snakemake pred_figures -j1
   #+end_src
   
