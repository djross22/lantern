gfp:
  label: avGFP
  N: 45000

  phenotype_labels:
    - "brightness"
  
  phenotypes:
    brightness: ["phenotype"]
  
  lantern:
    prediction:
      cuda: True

    affine:
      rotate-20:
        transformations:
          - transform: "rotation"
            theta: 20.0 
      shrink-z0:
        transformations:
          - transform: "scale"
            si: 0.2
            sj: 1.0
      shear-z0:
        transformations:
          - transform: "shear"
            si: 2.0
            sj: 0.0
              
              
  
  feedforward:
    prediction:
      cuda: True
  
  alphabet: ["A","C","D","E","F","G","H","I","K","L","M","N","P","Q","R","S","T","V","W","Y","*"]

laci:
  label: LacI
  N: 40000
  
  phenotype_labels:
    - "$\\mathrm{EC}_{50}$"
    - "$\\mathrm{G}_{\\infty}$"
  
  phenotypes:
    joint: ["ec50-norm", "ginf-norm"]
    ec50: ["ec50-norm"]
    ginf: ["ginf-norm"]
  
  errors:
    joint: ["ec50-norm-var", "dummy-var"]
    ec50: ["ec50-norm-var"]
  
  lantern:
    prediction:
      cuda: True
  
    affine:
      rotate-20:
        transformations:
          - transform: "rotation"
            theta: 20.0 
      shrink-z0:
        transformations:
          - transform: "scale"
            si: 0.2
            sj: 1.0
      shear-z0:
        transformations:
          - transform: "shear"
            si: 5.0
            sj: 0.0
              
  feedforward:
    prediction:
      cuda: True

covid:
  N: 125000
  step: 10000
  label: SARS-CoV-2
  substitutions: aa_substitutions
  
  phenotype_labels:
    - "RBD $\\Delta \\log$MFI"
    - "RBD-ACE2 $\\log_{10} K_d$"
  
  phenotypes:
    joint: ["func_score_norm_exp", "func_score_norm_bind"]
    exp: ["func_score_norm_exp"]
    bind: ["func_score_norm_bind"]
  
  errors:
    joint: ["func_score_var_norm_exp", "func_score_var_norm_bind"]
    exp: ["func_score_var_norm_exp"]
    bind: ["func_score_var_norm_bind"]
  
  lantern:
    prediction:
      cuda: True
  
  feedforward:
    prediction:
      cuda: True

simulations:
  K1:
    K: 1
    p: 300
    N: 50000
    mutation_rate: 0.03
    sigma_y: 0.01

  K2:
    K: 2
    p: 100
    N: 50000
    mutation_rate: 0.03
    sigma_y: 0.01
    lantern:
      epochs: 5000

  K4:
    K: 4
    p: 100
    N: 10000
    mutation_rate: 0.01
    sigma_y: 0.01

  K6:
    K: 6
    p: 100
    N: 100000
    mutation_rate: 0.03
    sigma_y: 0.01
    lantern:
      epochs: 2000

  K8:
    K: 8
    p: 100
    N: 100000
    mutation_rate: 0.03
    sigma_y: 0.01

figures:
  surface:
    gfp-brightness:
      brightness:
        raw: "medianBrightness"
        cbar_title: "avGFP\nBrightness"
        cbar_kwargs:
          aspect: 8
          shrink: 0.8

    laci-joint:
      ec50:
        raw: "ec50"
        log: True
        fig_kwargs:
          figsize: [5, 3]
        cbar_title: "LacI\n$\\mathrm{EC}_{50}$"
        cbar_kwargs:
          aspect: 8
          shrink: 0.6
        plot_kwargs:
          log_tick_subs: [0.333, 0.666, 1.0]
          levels: 10

      ginf:
        raw: "ginf"
        log: True
        p: 1
        cbar_title: "LacI\n$\\mathrm{G}_{\\infty}$"
        fig_kwargs:
          figsize: [5, 3]
        cbar_kwargs:
          aspect: 8
          shrink: 0.6
        plot_kwargs:
          log_tick_subs: [0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1.0]
          levels: 10


    covid-joint:
      exp:
        raw: "func_score_exp"
        cbar_title: "RBD\n$\\Delta \\log$MFI"
        cbar_kwargs:
          aspect: 8
          shrink: 0.8

      bind:
        raw: "func_score_bind"
        p: 1
        cbar_title: "RBD-ACE2\n$\\log_{10} K_d$"
        cbar_kwargs:
          aspect: 8
          shrink: 0.8

  diffops:
    gfp-brightness:
      brightness:
        dims: 3

    laci-joint:
      ec50:
        dims: 3
        zlim: [-2.1, 3.4, -0.6, 0.6]
        midpoint: 0.1
        plot_kwargs:
          log_tick_subs: [0.333, 0.666, 1.0]
          levels: 12

      ginf:
        dims: 3

    covid-joint:
      exp:
        dims: 5

      bind:
        dims: 5
        zlim: [-3.5, 3, -3.1, 3.8]
        N: 25
        cbar_kwargs:
          pad: 0.1
        cbar_title: "SARS-CoV-2\nRBD-ACE2\n$\\log_{10} K_d$"

  sir:
    gfp-brightness:
      brightness:
        phenotype_name: "avGFP Brightness"
        raw: "medianBrightness"
        zdim: 3
        wdim: 3

    laci-joint:
      ec50:
        zdim: 3
        wdim: 3
        phenotype_name: "LacI $\\mathrm{EC}_{50}$"
        raw: "ec50"

      ginf:
        zdim: 3
        wdim: 3
        p: 1
        phenotype_name: "LacI $\\mathrm{G}_{\\infty}$"
        raw: "ginf"

    covid-joint:
      exp:
        zdim: 5
        wdim: 5
        raw: "func_score_exp"
        phenotype_name: "RBD $\\Delta \\log$MFI"

      bind:
        zdim: 5
        wdim: 5
        p: 1
        raw: "func_score_bind"
        phenotype_name: "RBD-ACE2 $\\log_{10} K_d$"

  effects:
    gfp-brightness:
      zdim: 3

    laci-joint:
      zdim: 3

    covid-joint:
      zdim: 5
